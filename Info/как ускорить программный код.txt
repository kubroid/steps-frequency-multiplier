Чтобы не менять предделитель выходного счетчика после каждого входного шага,
можно менять предделитель раз в милисекунду в обработчике SYS TICK.
Или же выставлять предделитель средствами DMA.

Максимально сократить программные счетчики (++, -- и т.д.)

Сократить математические операции или выполнять их реже.

Использовать обработчик SYS TICK как серво цикл, 
производя ресурсоёмкие подсчёты внутри него.

Использовать свои функции для старта/останова счетчиков и DMA.

Использовать свои обработчики EXTI, Update Event.
